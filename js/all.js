"use strict";!function(t){function n(){var t="; "+document.cookie,n=t.split("; access_token=");return 2===n.length?n.pop().split(";").shift():null}function e(){var e=n();t.ajax({url:"https://api.instagram.com/v1/users/self/media/recent/?",data:{access_token:e},dataType:"jsonp",success:function(n){for(var e in n.data){var i=t("<img>");i.attr("src",n.data[e].images.low_resolution.url),t("#pictures").append(i)}}})}t(function(){n()?(e(),t("#login").hide()):t("#login").show()})}(jQuery),function(t){function n(){return t(window).scrollTop()}t(window).scroll(function(){var e=n(),i=t("#info").offset().top,o=t("#coachella").offset().top,a=t("img.info-img"),s=t("div.animated-text");t("div.img-block");e>i-300?a.css({"margin-top":"0",opacity:"1"}):e<i-400&&a.css({"margin-top":"300px",opacity:"0"}),e>o-150?s.addClass("slide-in"):e<o-500&&s.removeClass("slide-in")})}(jQuery),function(t){function n(n){var e=t(".main-nav.desktop"),i=t("a.to-top");"home"===n?(e.css("visibility","hidden"),i.css("visibility","hidden")):"footer"===n?(e.css("visibility","hidden"),i.css("visibility","visible")):setTimeout(function(){e.css("visibility","visible"),i.css("visibility","visible")},100)}function e(){return t(window).scrollTop()}function i(){var i=e(),a=t("#info").offset().top,s=t("#top-list").offset().top,l=t("#coachella").offset().top,r=t("#most-recent").offset().top,c=t("footer").offset().top,m=t(".desktop > .nav-items > a.nav-item.home"),u=t(".desktop > .nav-items > a.nav-item.info"),d=t(".desktop > .nav-items > a.nav-item.top-list"),h=t(".desktop > .nav-items > a.nav-item.coachella"),p=t(".desktop > .nav-items > a.nav-item.most-recent");i>c-600?n("footer"):i>r-200?(o("most-recent",p),n("most-recent")):i>l-200?(o("coachella",h),n("coachella")):i>s-200?(o("top-list",d),n("top-list")):i>a-200?(o("info",u),n("info")):i<a-200&&(o("home",m),n("home"))}function o(n,e){t("a.nav-item").removeClass("active"),e.addClass("active"),a(n)}function a(t){if(t===l)return!1;l=t,window.history.pushState&&window.history.pushState(t,t,"#"+t)}function s(){var n=t(".main-nav");t(window).width()>=1200?(n.removeClass("mobile"),n.addClass("desktop")):(n.removeClass("desktop"),n.addClass("mobile"))}t('a[href*="#"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var i=t(this.hash),o=i[0].id;i=i.length?i:t("[name="+this.hash.slice(1)+"]"),window.history.pushState&&window.history.pushState(o,o,"#"+o),n(o),t("a").removeClass("active"),t(this).hasClass("active"),t("html, body").animate({scrollTop:i.offset().top},1e3)}});var l;t(window).on("scroll",i),t(window).on("load resize scroll",s),t(".main-nav.mobile a").on("click",function(){t("#menu").prop("checked",!1)})}(jQuery),function(){function t(){fetch("./php/request.php").catch(function(t){console.log("There has been a problem with your fetch operation: "+t.message)})}function n(t,n){fetch(t).then(function(t){return t.json()}).then(function(t){a(t,n)})}function e(t,n,e){return Math.floor(Math.random()*(n-t+1))+t+e}function i(t){return t+4.5*(Math.random()+1)+"s"}function o(t,n){t<100?(n.style.animationDuration=i(100),n.style.zIndex="1"):t<190?(n.style.animationDuration=i(80),n.style.zIndex="2"):t>190&&t<230?(n.style.animationDuration=i(60),n.style.zIndex="3"):t>230&&t<270?(n.style.animationDuration=i(40),n.style.zIndex="4"):(n.style.animationDuration=i(20),n.style.zIndex="5")}function a(t,n){var i,a,s={marginTop:{min:10,max:100,unit:"%"},marginDesktop:{min:0,max:30,unit:"%"},height:{min:60,max:300,unit:"px"},animationDelay:{min:-20,max:0,unit:"s"}};n.innerHTML="";for(var l=0;l<9;l++){n.innerHTML+='<div class="single">\n                                      <img src="'+t[l].thumbnail_src+'">\n                                  </div>',a=n.querySelectorAll(".single"),i=a[l],c.push([t[l].thumbnail_src,t[l].caption,t[l].comments.count,t[l].code,t[l].likes.count]),i.style.height=e(s.height.min,s.height.max,s.height.unit),window.innerWidth>768?i.style.marginTop=e(s.marginDesktop.min,s.marginDesktop.max,s.marginDesktop.unit):i.style.marginTop=e(s.marginTop.min,s.marginTop.max,s.marginTop.unit),i.style.animationDelay=e(s.animationDelay.min,s.animationDelay.max,s.animationDelay.unit);o(window.getComputedStyle(i,null).getPropertyValue("height").slice(0,-2),i)}}function s(){for(var t=document.querySelectorAll(".single"),n=0;n<t.length;n++)!function(n){t[n].addEventListener("click",function(){var e=t[n].querySelector("img");if(u.className="overlay visible",e.src===c[n][0]){var i="",o=c[n][1],a="https://instagram.com/p/"+c[n][3];void 0!==o&&(o.length>248&&(o=o.slice(0,248),o+='<a href="'+a+'" target="_blank"> ...</a>'),i="<p>"+o+"</p>"),m.innerHTML+='<a href="'+a+'" target="_blank">\n                                                <img src="'+c[n][0]+'" alt="Post thumbnail">\n                                            </a>\n                                            '+i+'\n                                            <a href="'+a+'" target="_blank">\n                                                <i class="fa fa-heart-o" aria-hidden="true"></i><p class="data">'+c[n][4]+'</p>\n                                            </a>\n                                            <a href="'+a+'" target="_blank">\n                                                <i class="fa fa-comment-o" aria-hidden="true"></i><p class="data">'+c[n][2]+'</p>\n                                            </a>\n                                            <div class="link"><a href="'+a+'" target="_blank">View on Instagram</a><div class="hover"></div></div>'}})}(n)}var l=document.querySelector(".most-recent .posts"),r=document.querySelector(".top-list .posts"),c=[],m=document.querySelector(".pop-up"),u=document.querySelector(".overlay");document.onkeydown=function(t){t=t||window.event,27==t.keyCode&&(u.className="overlay",m.innerHTML="")},u.addEventListener("click",function(t){"overlay visible"===u.className&&(u.className="overlay",m.innerHTML="")}),function(t,n){var e=setInterval(function(){document.querySelectorAll(t)&&(clearInterval(e),n())},100)}(".single",s),n("./json/toplist.json",r),n("./json/mostrecent.json",l),setInterval(function(){t(),n("./json/toplist.json",r),n("./json/mostrecent.json",l)},12e4)}();